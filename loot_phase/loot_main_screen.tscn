[gd_scene load_steps=10 format=3 uid="uid://vt7nd4u23fgm"]

[ext_resource type="Script" path="res://loot_phase/loot_main_screen.gd" id="1_s3hgf"]
[ext_resource type="PackedScene" uid="uid://bcctqmimp48kn" path="res://general_phase/bg/scrolling_bg.tscn" id="2_dexuf"]
[ext_resource type="Script" path="res://loot_phase/gameworld.gd" id="2_yffuw"]
[ext_resource type="PackedScene" uid="uid://dqy37tv54q4f5" path="res://loot_phase/player/player.tscn" id="3_pf6fm"]
[ext_resource type="PackedScene" uid="uid://b2kho60dur4n2" path="res://general_phase/bg/scrolling_fg.tscn" id="5_obipr"]
[ext_resource type="PackedScene" uid="uid://c48ynunmnla50" path="res://loot_phase/bag/bag.tscn" id="6_3xybr"]
[ext_resource type="PackedScene" uid="uid://du0bdr1trvbnt" path="res://loot_phase/ui/speed_bar/speed_bar.tscn" id="7_4p7k6"]
[ext_resource type="PackedScene" uid="uid://dbfr7jyn50hrv" path="res://ui/settings/settings_button.tscn" id="8_jh078"]
[ext_resource type="PackedScene" uid="uid://cgbksvv4pj0a8" path="res://loot_phase/ui/health/health_bar.tscn" id="9_cm554"]

[node name="LootMainScreen" type="Node" node_paths=PackedStringArray("merge_system", "spawner", "progress_bar", "animation_transition") groups=["crates"]]
script = ExtResource("1_s3hgf")
merge_system = NodePath("")
spawner = NodePath("")
progress_bar = NodePath("")
animation_transition = NodePath("")
looted_scene = "res://loot_phase/loot_end_screen.tscn"

[node name="Gameworld" type="Node" parent="." node_paths=PackedStringArray("bag_ref", "spawn_initial", "spawn_point", "spawn_timer", "bar_speed", "bar_hp", "background", "foreground", "player")]
script = ExtResource("2_yffuw")
bag_ref = NodePath("../UI/Bag")
spawn_initial = NodePath("SpawnInitial")
spawn_point = NodePath("SpawnPoint")
spawn_timer = NodePath("SpawnTimer")
bar_speed = NodePath("../UI/SpeedBar")
bar_hp = NodePath("../UI/HealthBar")
background = NodePath("ScrollingBG")
foreground = NodePath("ScrollingFG")
player = NodePath("Player")

[node name="ScrollingBG" parent="Gameworld" instance=ExtResource("2_dexuf")]
layer = -1

[node name="SpawnPoint" type="Marker2D" parent="Gameworld"]
position = Vector2(1520, 278)

[node name="SpawnInitial" type="Marker2D" parent="Gameworld"]
position = Vector2(704, 278)

[node name="SpawnTimer" type="Timer" parent="Gameworld"]
wait_time = 1.5

[node name="Player" parent="Gameworld" instance=ExtResource("3_pf6fm")]
position = Vector2(206, 250)

[node name="ScrollingFG" parent="Gameworld" instance=ExtResource("5_obipr")]

[node name="UI" type="CanvasLayer" parent="."]
layer = 2

[node name="ColorRect" type="ColorRect" parent="UI"]
offset_top = 367.0
offset_right = 1400.0
offset_bottom = 1047.0
color = Color(0.396078, 0.490196, 0.180392, 1)

[node name="Bag" parent="UI" instance=ExtResource("6_3xybr")]

[node name="SpeedBar" parent="UI" instance=ExtResource("7_4p7k6")]
anchor_left = 0.046
anchor_top = 0.434
anchor_right = 0.127
anchor_bottom = 0.922
offset_left = -0.400009
offset_top = 0.299988
offset_right = 0.199997
offset_bottom = -0.100037

[node name="SettingsButton" parent="UI" instance=ExtResource("8_jh078")]
anchor_left = 0.869
anchor_top = 0.823
anchor_right = 0.976
anchor_bottom = 0.969
offset_left = -0.599976
offset_top = -0.150024
offset_right = 0.599854
offset_bottom = -0.450073

[node name="HealthBar" parent="UI" instance=ExtResource("9_cm554")]
anchor_left = 0.007
anchor_right = 0.214
anchor_bottom = 0.095
offset_left = 0.2
offset_top = 10.0
offset_right = 0.399963
offset_bottom = 0.249992

[connection signal="timeout" from="Gameworld/SpawnTimer" to="Gameworld" method="_on_spawn_timer_timeout"]
